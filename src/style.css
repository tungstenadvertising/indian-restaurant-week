@import "tailwindcss";

/* Custom Font Family - @font-face is inlined in Layout.astro for faster rendering */
@layer base {

}

@theme {
  --font-sans: 'Ysabeau', sans-serif;

  --color-irw-amber: #E78824;
  --color-irw-orange: #FF7A39;
  --color-irw-red: #C0372C;
  --color-irw-sand: #FDEFDA;
  --color-irw-yellow: #FCB870;


  /* Custom Easing Functions */
  --ease-power2-in-out: cubic-bezier(0.888, -0.1, 0.465, 1);
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Font Smoothing */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#logo-text {
  font-size: 27px;
  line-height: 0.8;
  @media (width > 400px) {
    font-size: 30px;
  }
  @media (width > 640px) {
    font-size: 32px;
  }
  @media (width > 768px) {
    font-size: 35px;
  }
  @media (width > 920px) {
    font-size: 40px;
  }
  @media (width > 1024px) {
    font-size: 45px;
  }
  @media (width > 1280px) {
    font-size: 49px;
  }
}
#desktop-logo {
  width: 90px;
  @media (width > 400px) {
    width: 100px;
  }
  @media (width > 640px) {
    width: 110px;
  }
  @media (width > 768px) {
    width: 120px;
  }
  @media (width > 920px) {
    width: 130px;
  }
  @media (width > 1024px) {
    width: 140px;
  }
  @media (width > 1280px) {
    width: 150px;
  }
}
#ribbon {
  max-width: 120px;
  translate: 0 -10%;

  @media (width > 400px) {
    max-width: 130px;
    translate: 0 -6%;
  }
  @media (width > 640px) {
    scale: 1;
    translate: 0 -6%;
  }
  @media (width > 768px) {
    scale: 1.17;
  }
  @media (width > 920px) {
    translate: 0 -9%;
    scale: 1.23;
  }
  @media (width > 1024px) {
    translate: 0 -12%;
    scale: 1.4;
  }
  @media (width > 1280px) {
    translate: 0 -12%;
    scale: 1.6;
  }
}

.irw-title {
  font-size: clamp(37px, 5vw, 65px);
  line-height: 1;
}
.content-wrapper {
  line-height: 1.5;
}

.hero-texture {
  background: var(--hero-bg-color, #fab2b2);
}

.hero-texture::before {
  content: '';
  --pattern-size: 125px;
  position: absolute;
  z-index: 0;
  inset: 0;
  background-color: var(--hero-pattern-color, #3c0024);
  -webkit-mask-image: url('/images/global/hero-texture.svg');
  -webkit-mask-size: var(--pattern-size);
  -webkit-mask-repeat: repeat;
  -webkit-mask-position: top;
  mask-image: url('/images/global/hero-texture.svg');
  mask-size: var(--pattern-size);
  mask-repeat: repeat;
  mask-position: top;

  /* @media (width > 1024px) {
    --pattern-size: 125px;
  }
  @media (width < 768px) {
    --pattern-size: 100px;
  }
  @media (width < 480px) {
    --pattern-size: 70px;
  } */
}

/* === SPRING EVENT HERO OVERLAY ===
   Comment out this entire block to revert to default hero background */
.hero-texture::after {
  content: '';
  position: absolute;
  z-index: 1;
  inset: 0;
  background:
    radial-gradient(
      ellipse 50vw 50vh at 50% 50%,
      hsla(325, 70%, 82%, 0.9) 0%,
      hsla(335, 55%, 45%, 0.75) 35%,
      hsla(340, 45%, 38%, 0.35) 55%,
      transparent 85%
    ),
    hsla(30, 82%, 52%,1);
  pointer-events: none;
  opacity: .7;
  /* background-blend-mode: hue; */
  mix-blend-mode: overlay;
}
/* === END SPRING EVENT HERO OVERLAY === */

.page-texture {
    background-image: none;
    background-size: 30%;
}

@media (min-width: 1280px) {
    .page-texture {
        background-image: url('/images/global/page-texture.webp');
    }
}





/* Ensure footer overlaps with location-bottom */



/* Chef Popup Styles */

.chef-popup-decor-footer {
  filter: drop-shadow(19px 10px 5px #65360021);

}
.chef-popup-overlay {
  transition: opacity 0.5s ease-in-out;
  opacity: 1;
  scale: 1;
}
#chef-popup.hidden .chef-popup-overlay {
  opacity: 0;
  scale: 0.9;
}
.chef-popup-container {
  max-height: 87vh;
  overflow-y: auto;
  /* GSAP will handle animations, no CSS animations needed */
}



.chef-popup-name {
  background: linear-gradient(135deg, #C0372C, #E78824);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.chef-popup-story p {
  margin-bottom: 1rem;
  text-align: justify;
  hyphens: auto;
}

.chef-popup-story p:last-child {
  margin-bottom: 0;
}




@media (max-width: 480px) {
  .chef-popup-container {
    margin: 2rem auto;
    max-width: calc(100vw - 2rem);
  }
}

/* Accessibility Improvements */
.chef-popup-overlay:focus-within {
  outline: none;
}

.chef-popup-container:focus {
  outline: 2px solid #FFA73C;
  outline-offset: 2px;
}


/* High contrast mode support */
@media (prefers-contrast: high) {
  .chef-popup-container {
    border: 2px solid #000;
  }

  .chef-popup-name {
    color: #000;
    -webkit-text-fill-color: #000;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .chef-popup-container,
  .chef-popup-portrait img {
    transition: none;
    animation: none;
  }
}

#chefs-title .irw-title {
  letter-spacing: clamp(-2px, -0.4vw, 0px);
}
#chefs-title .meet-chefs-title-shape {
  width: auto;
  min-width: 40px;
  height: 30px;
  max-width: 0;
  opacity: 0;
}




/* Chef Image Styles */
.chef-image-container {
  /* shape-outside: url('/src/images/chef-shape.svg');
  shape-margin: 30px; */
  transition: transform 0.5s ease;
  width: 300px;
  aspect-ratio: 1/1;
  .chef:hover & {
    transform: scale(1.02);
  }
  @media (max-width: 1024px) {
    width: 200px;

  }
  @media (max-width: 768px) {
    width: 250px;
  }
  @media (max-width: 480px) {
    width: 200px;
  }
}


/* GSAP Animation Initial States for Chefs */
.chef {
  opacity: 0;
  transform: translateY(50px);
}

.chef-bg-circle {
  aspect-ratio: 1/1;
  border-radius: 50%;
  --size: 100%;
  width: var(--size);
  height: var(--size);
  border: clamp(1.5px, 0.3vw, 2.35px) solid #FFA73C;
  background-color: #FFC886;
  padding: clamp(2.5px, 1.5vw, 5px);
  z-index: 1;

  transition: .5s ease-in-out;

  .chef-image {
    width: clamp(85%, 27vw, 100%);
    transition: .5s ease-in-out;
    max-width: 100%;
    max-height: 90%;
    object-fit: contain;
  }
  .chef-image-bg {
    border: clamp(6.5px, 1.5vw, 10px) solid #FFA73C;
    transition: scale 3.5s ease-in-out, filter 1s ease-in-out;
    .chef:hover & {
      filter: brightness(1.3);
      scale: 1.05;
    }
  }

}
.chef-name-shape {
  width: clamp(250px, 20vw, 300px);
  @media (width > 1024px) {
    width: auto;
  }

}
/* Chef Popup Swiper Carousel Styles */


.chef-popup-swiper {
  width: 100%;
  height: 200px;
  padding: 0 2rem;
}

.chef-popup-swiper .swiper-slide {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  overflow: hidden;
  transition: 0.3s ease;
  width: 200px;
  height: 200px;
}

.chef-popup-swiper .swiper-slide:hover {
  img {
    scale: 1.01;
    filter: saturate(1.2) brightness(1.2);
  }
}

.chef-popup-swiper .swiper-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  transition: 0.3s ease;
}

/* Cards effect specific styles */
.chef-popup-swiper.swiper-effect-cards .swiper-slide {
  width: 200px;
  height: 200px;
  border-radius: 50%;
}
.swiper-3d .swiper-slide-shadow {
  border-radius: 50% !important;
}
.chef-popup-swiper.swiper-effect-cards .swiper-slide-active {
  z-index: 2;
  scale: 1.5;
  img {
    scale: 1.5;
  }
}

.chef-popup-swiper.swiper-effect-cards .swiper-slide-next,
.chef-popup-swiper.swiper-effect-cards .swiper-slide-prev {
  z-index: 1;
}

/* Navigation Buttons */
.chef-popup-swiper-button-next,
.chef-popup-swiper-button-prev {
  margin-top: -20px !important;
  transition: all 0.3s ease;
  color: #1e1e1e !important;
}

.chef-popup-swiper-button-next:hover,
.chef-popup-swiper-button-prev:hover {
  transform: scale(1.1);
}

.chef-popup-swiper-button-next:after,
.chef-popup-swiper-button-prev:after {
  font-size: 46px !important;
  font-weight: 900;
}

.chef-popup-swiper-button-next {
  right: clamp(10px, 1dvw, 30%) !important;
}

.chef-popup-swiper-button-prev {
  left: clamp(10px, 1dvw, 30%) !important;
}


/* Restaurant Carousel Styles */
#restaurant-carousel {
  perspective: 1000px;
  min-height: 400px;
  display: flex;
  align-items: center;
  justify-content: center;

  /* CSS Variables for responsive scaling */
  --carousel-item-size: 220px;
  --carousel-radius: 230px;
  --central-logo-size: calc(var(--carousel-item-size) * 0.8);

  @media (width <= 1024px) {
    --carousel-radius: 190px;
    --carousel-item-size: 180px;
  }
  @media (width <= 768px) {
    --carousel-radius: 180px;
    --carousel-item-size: 160px;

  }
  @media (width <= 580px) {
    --carousel-radius: 150px;
    --carousel-item-size: 140px;

  }
  @media (width <= 420px) {
    --carousel-radius: 115px;
    --carousel-item-size: 105px;

  }
}

#carousel-container {
}

.restaurant-item {
  width: var(--carousel-item-size);
  height: var(--carousel-item-size);
}

.restaurant-item img {
  filter: brightness(0.6) saturate(0.8);
}

.restaurant-item.active {
  transform: scale(1.3);
  /* border-color: var(--color-irw-amber); */
  /* border-width: var(--carousel-border-width); */
  z-index: 10;
}

.restaurant-item.active img {
  filter: brightness(1) saturate(1) drop-shadow(0 0 40px hsla(32, 80%, 52%, 0.9)) drop-shadow(0 12px 48px hsla(20, 82%, 24%, 0.9));
}
.restaurant-item:hover:not(.active) {
  transform: scale(1.1);
  border-color: #FF7A39;
  filter:  brightness(0.8) saturate(0.9) drop-shadow(0 0 20px rgba(255, 122, 57, 0.4));
}

.restaurant-item:hover:not(.active) img {
  filter:  drop-shadow(0 0 20px rgba(255, 122, 57, 0.4));
}

/* Logo System */



/* Responsive Design */
@media (max-width: 768px) {
  #carousel-container {
    height: 300px;
  }

  .chef-popup-swiper-button-next,
  .chef-popup-swiper-button-prev {
    width: 45px !important;
    height: 45px !important;
    margin-top: -17.5px !important;
  }

  .chef-popup-swiper-button-next:after,
  .chef-popup-swiper-button-prev:after {
    font-size: 34px !important;
  }
}

@media (max-width: 480px) {
  #carousel-container {
    height: 250px;
  }
}

.dish-popup-container {
  max-height: 90vh;
  overflow-y: auto;
}

.dish-popup-header {
  min-height: 250px;
  @media (width >= 640px) {
    min-height: 300px;
  }
}

.dish-popup-content {
  min-height: 400px;
}


/* High contrast mode support */
@media (prefers-contrast: high) {
  .dish-popup-container {
    border: 2px solid #000;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .dish-popup-container {
    transition: none;
    animation: none;
  }
}

#menu-price {
  text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.3);

}

.restaurant-dropdown-link {
  /* overflow: hidden; */
  opacity: 0;
}

.restaurant-dropdown-link::before {
  content: '';
  position: absolute;
  top: 0;
  opacity: 0;
  left: -1%;
  width: 0%;
  height: 100%;
  background: linear-gradient(-90deg, var(--color-irw-orange), var(--color-irw-red));
  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.075);
  filter:drop-shadow(0 0 20px rgba(0, 0, 0, 0.1)) drop-shadow(0 3px 3px rgba(0, 0, 0, 0.2));
}

.restaurant-dropdown-link:hover::before {
  left: -3%;
  width: 106%;
  opacity: 1;
}

.mobile-restaurants-dropdown:has(#mobile-restaurants-dropdown-menu:not(.hidden)) #mobile-restaurants-toggle {
    @apply text-amber-200;
}
/* Mobile Dropdown Styles */
.mobile-restaurants-dropdown-menu {
  overflow: hidden;
  opacity: 0;
  max-height: 0;
}

.mobile-restaurant-link {
  /* position: relative; */
  padding: 3.5px 0;
  /* border-left: 2px solid transparent; */
  /* opacity: 0; */
}




#restaurants-dropdown:hover svg {
  transform: rotate(180deg);
}

/* Enhanced Hover Effects */
.restaurant-dropdown-link:hover {
  background-size: 100% 100%;
  scale: 1.8;
  .restaurant-dropdown-link-name {
    transition: all 0.3s var(--ease-smooth);
    transform-origin: left center;
    color: var(--color-irw-sand);
    scale: 1.1;
    transform: translateX(4px);
  }
  .restaurant-dropdown-link-chef {
    color: var(--color-irw-yellow);
    transform: translateX(4px);
  }
}

/* Focus States for Accessibility */
.restaurant-dropdown-link:focus,
.mobile-restaurant-link:focus {
  outline: 2px solid #E78824;
  outline-offset: 2px;
}



#dish-popup-reservation  {
  span {
    text-shadow: 0 0 3px rgba(0, 0, 0, 0.2);
  }
  svg path {
    fill: var(--reservation-link-fill);
    transition: fill 0.3s var(--ease-smooth);
  }
  &:hover {
    svg {
      path {
        fill: var(--reservation-link-fill-hover);
      }
    }
    span {
      text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.3);
    }
  }
}
